
<div ng-show="tab==1" class="row">
  <form ng-controller="ctrl.proposal">
    <div class="row">
      <div class="col-sm-6">
        <div class="form-group">
          <label>提案名稱</label>
          <input type="text" placeholder="提案名稱, 例如: 丹大野生動物保護區興建嘆息灣度假村之提案" ng-model="cur.name" class="form-control"/>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="row">
          <div class="col-sm-6">
            <label>開始時間</label>
            <div class="form-group">
              <div class="dropdown"><a data-toggle="dropdown" href="#">
                  <div class="input-group">
                    <input type="text" ng-model="cur.start" class="form-control"/><span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                  </div></a>
                <ul role="menu" aria-labelledby="dLabel" class="dropdown-menu">
                  <li>
                    <datetimepicker ng-model="cur.start"></datetimepicker>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-sm-6">
            <label>期間長度</label>
            <div class="form-group">
              <div class="row">
                <div class="col-sm-4">
                  <input type="text" placeholder="天" ng-model="cur.duration.day" class="form-control"/>
                </div>
                <div class="col-sm-4">
                  <input type="text" placeholder="時" ng-model="cur.duration.hour" class="form-control"/>
                </div>
                <div class="col-sm-4">
                  <input type="text" placeholder="分" ng-model="cur.duration.min" class="form-control"/>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="form-group">
          <label>提案描述</label>
          <textarea placeholder="提案描述" ng-model="cur.desc" style="min-height: 308px" class="form-control"></textarea>
        </div>
      </div>
      <div ng-show="false" class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">新增方案</div>
          <div class="panel-body">
            <div class="form-group">
              <label>方案名稱</label>
              <input type="text" placeholder="方案名稱, 例如: 反對" ng-model="cur.name" class="form-control"/>
            </div>
            <div class="form-group">
              <label>方案描述</label>
              <textarea placeholder="方案描述" ng-model="cur.desc" style="min-height: 100px" class="form-control"></textarea>
            </div>
            <div class="btn btn-success">新增方案</div>
          </div>
        </div>
      </div>
    </div>
    <h4 ng-click="advancedConfig=!advancedConfig" class="pull-right switch"><a href="">進階設定...   </a></h4>
    <div ng-show="advancedConfig" style="padding: 10px" class="panel clearfix panel-default">
      <div style="clear:both" class="row">
        <div class="col-sm-6">
          <div ng-controller="ctrl.simpletab" ng-init="cur.config.method=tab" class="panel panel-default">
            <div class="panel-heading">投票選項 - <span ng-show="tab==1">單選式投票</span><span ng-show="tab==2">多選式投票</span><span ng-show="tab==3">排名式投票</span></div>
            <div class="panel-body">
              <ul style="margin-bottom:15px" class="nav nav-tabs">
                <li ng-class="active(tab,1)" ng-click="cur.config.method=1;tab=1"><a href="">單選式投票</a></li>
                <li ng-class="active(tab,2)" ng-click="cur.config.method=2;tab=2"><a href="">多選式投票</a></li>
                <li ng-class="active(tab,3)" ng-click="cur.config.method=3;tab=3"><a href="">排名式投票</a></li>
              </ul>
              <div class="checkbox">
                <label>
                  <input type="checkbox" ng-model="cur.config.allowAnonymous"/>允許未登入使用者投票
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" disabled="disabled" checked="checked" ng-model="cur.config.allowInvalidate"/>提供廢票選項
                </label>
              </div>
              <div class="checkbox">
                <label>
                  <input type="checkbox" ng-model="cur.config.allowNewPlan"/>有權投票者也可提出新方案
                </label>
              </div>
              <hr/>
              <h5 ng-click="advancedOption=!advancedOption" style="cursor:pointer"><a href="">進階選項 ...</a></h5>
              <div ng-show="advancedOption">
                <div class="row">
                  <div class="col-sm-6">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" ng-model="cur.config.needPetition"/>需過連署門檻
                      </label>
                    </div>
                    <input type="text" placeholder="連署門檻(百分比), 例如: 50%" ng-model="cur.config.petitionCriteria" class="form-control"/>
                  </div>
                  <div class="col-sm-6">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" ng-model="cur.config.needEnoughSupport"/>需過得票門檻
                      </label>
                    </div>
                    <input type="text" placeholder="得票門檻(百分比), 例如: 50%" ng-model="cur.config.supportCriteria" class="form-control"/>
                  </div>
                </div>
                <div class="row">
                  <div ng-show="tab!=1" class="col-sm-6">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" ng-model="cur.config.limitedMultiChoiceCount"/>複選的選擇數量上限
                      </label>
                    </div>
                    <input type="text" placeholder="選擇數量上限, 如: 2" ng-model="multiChoiceCount" class="form-control"/>
                  </div>
                  <div ng-show="tab==1" class="col-sm-6">
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" ng-model="cur.config.tiebreak"/>通過方案之支持度需領先一定程度
                      </label>
                    </div>
                    <input type="text" placeholder="支持度差距(百分比), 如: 5%" ng-model="cur.config.tiebreakValue" class="form-control"/>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div ng-controller="ctrl.simpletab" ng-init="cur.config.datetype=tab" class="panel panel-default">
            <div class="panel-heading">投票期間設定 - <span ng-show="tab==1">固定期間</span><span ng-show="tab==2">自動期間</span></div>
            <div class="panel-body">
              <ul style="margin-bottom:15px" class="nav nav-tabs">
                <li ng-class="active(tab,1)" ng-click="cur.config.datetype=1;tab=1"><a href="">固定期間</a></li>
                <li ng-class="active(tab,2)" ng-click="cur.config.datetype=2;tab=2"><a href="">自動期間</a></li>
              </ul>
              <div ng-show="tab==2" class="row">
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.autoCountDownByCriteria"/>投票率超過一定比例時才開始倒數
                    </label>
                  </div>
                  <input type="text" placeholder="投票率(百分比), 例如: 80%" ng-model="cur.config.autoCountDownCriteria" class="form-control"/>
                </div>
              </div>
              <div ng-show="tab==2" class="row">
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.autoStart"/>解答所有提問後一定時間內自動開始
                    </label>
                  </div>
                  <input type="text" placeholder="時間長度, 例如: 6小時, 3天" ng-model="cur.config.autoStartDelay" class="form-control"/>
                </div>
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.autoStartByCriteria"/>有效方案達一定數量以後自動開始
                    </label>
                  </div>
                  <input type="text" placeholder="方案數量, 例如: 3 " ng-model="autoStartCriteria" class="form-control"/>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <h4 ng-click="quality=!quality" class="pull-right switch"><a href="">提案品質控管設定...</a></h4>
      <div ng-show="quality" style="clear:both" class="row">
        <div class="col-sm-6">
          <div ng-controller="ctrl.simpletab" class="panel panel-default">
            <div class="panel-heading">提案品質設定</div>
            <div class="panel-body">
              <div class="row">
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.needValid"/>方案須有效
                    </label>
                  </div>
                  <input type="text" placeholder="有效門檻: 按讚的人數. 例如: 20" ng-model="cur.config.needValidCriteria" class="form-control"/>
                </div>
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.needValidSolution"/>方案需連結有效對策
                    </label>
                  </div>
                  <input type="text" placeholder="對策數下限. 例如: 1" ng-model="cur.config.needSolutionCriteria" class="form-control"/>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.needValidIssue"/>對策須連結有效問題
                    </label>
                  </div>
                  <input type="text" placeholder="問題數下限, 如: 1" ng-model="cur.config.needIssueCriteria" class="form-control"/>
                </div>
                <div class="col-sm-6">
                  <div class="checkbox">
                    <label>
                      <input type="checkbox" ng-model="cur.config.needValidVision"/>問題須連結有效願景
                    </label>
                  </div>
                  <input type="text" placeholder="願景數下限, 如: 1" ng-model="cur.config.needVisionCriteria" class="form-control"/>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div ng-controller="ctrl.simpletab" class="panel panel-default">
            <div class="panel-heading">建立對策、問題、願景等項目</div>
            <div class="panel-body">
              <ul style="margin-bottom:15px" class="nav nav-tabs">
                <li ng-class="active(tab,1)" ng-click="tab=1"><a href="">建立對策</a></li>
                <li ng-class="active(tab,2)" ng-click="tab=2"><a href="">建立問題</a></li>
                <li ng-class="active(tab,3)" ng-click="tab=3"><a href="">建立願景</a></li>
              </ul>
              <div class="row">
                <div class="col-sm-12">
                  <div class="form-group">
                    <label>標題</label>
                    <input type="text" placeholder="標題" disabled="disabled" class="form-control"/>
                  </div>
                  <div class="form-group">
                    <label>描述</label>
                    <input type="text" placeholder="描述" disabled="disabled" class="form-control"/>
                  </div>
                </div>
              </div>
              <div class="btn btn-success">建立</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr style="clear:both"/>
    <div class="row">
      <div class="col-sm-12">
        <div ng-click="create()" class="btn btn-success">建立提案</div>
      </div>
    </div>
    <div class="footer"></div>
  </form>
</div>