// Generated by LiveScript 1.2.0
var x$;
x$ = angular.module('donvote');
x$.controller('discuss', function($scope, $http){
  console.log('asdf');
  return $scope.discuss = {
    'new': {
      submit: function(){
        var url;
        url = ("/api/" + window.location.pathname + "discuss/").replace(/\/\//g, "/");
        return $http({
          url: url,
          method: 'POST',
          data: JSON.stringify(this.d)
        }).success(function(d){
          return console.log("success:", d);
        }).error(function(d){
          return console.log("success:", d);
        });
      },
      reset: function(){
        return this.d = {};
      },
      setTendency: function(it){
        return this.d.tendency = it;
      },
      d: {
        tendency: 2
      }
    }
  };
});